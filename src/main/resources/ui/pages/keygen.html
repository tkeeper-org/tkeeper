<div class="row row-cards justify-content-center">
    <div class="col-12 col-lg-8">
        <div class="card shadow-sm border-0 tk-panel">
            <div class="tk-panel-head tk-panel-head--tight">
                <div class="tk-panel-ident">
                    <span class="bg-indigo-lt avatar rounded">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3" /><path d="M12 11m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M12 12l0 2.5" /></svg>
                    </span>
                    <div class="tk-panel-title-wrap">
                        <div class="tk-panel-kicker">Cryptography</div>
                        <h3 class="card-title mb-0 fw-bold tk-panel-title">Key Generation</h3>
                    </div>
                </div>
                <div class="tk-panel-actions">
                    <button id="tk-keygen-reset" type="button" class="btn btn-ghost-secondary">Reset Form</button>
                    <button id="tk-keygen-submit" type="button" class="btn btn-primary px-4">Run DKG</button>
                </div>
            </div>

            <div class="card-body p-4">
                <div id="tk-keygen-disabled" class="alert alert-warning d-flex align-items-center gap-2 d-none" role="alert">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 9v2m0 4v.01" /><path d="M5 19h14a2 2 0 0 0 1.84 -2.75l-7.1 -12.25a2 2 0 0 0 -3.48 0l-7.1 12.25a2 2 0 0 0 1.84 2.75z" /></svg>
                    <div>You do not have permissions for key generation.</div>
                </div>

                <form id="tk-keygen-form">
                    <div class="bg-light rounded p-4 border mb-4">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label class="form-label small text-muted text-uppercase fw-bold ls-1">Logical Key ID</label>
                                <div class="input-group input-group-flat bg-white rounded border">
                                    <input id="tk-keygen-keyId" class="form-control border-0" placeholder="e.g. eth-cold-storage" autocomplete="off">
                                </div>
                            </div>

                            <div class="col-md-3">
                                <label class="form-label small text-muted text-uppercase fw-bold ls-1">Curve</label>
                                <select id="tk-keygen-curve" class="form-select border-1">
                                    <option value="SECP256K1">SECP256K1</option>
                                    <option value="ED25519">ED25519</option>
                                </select>
                            </div>

                            <div class="col-md-3">
                                <label class="form-label small text-muted text-uppercase fw-bold ls-1">Mode</label>
                                <select id="tk-keygen-mode" class="form-select border-1">
                                    <option value="CREATE">CREATE</option>
                                    <option value="ROTATE">ROTATE</option>
                                    <option value="REFRESH">REFRESH</option>
                                </select>
                            </div>

                            <div class="col-md-6">
                                <label class="form-label small text-muted text-uppercase fw-bold ls-1">Asset Owner (Optional)</label>
                                <div class="input-group input-group-flat bg-white rounded border">
                                    <input id="tk-keygen-assetOwner" class="form-control border-0"
                                           placeholder="e.g. customer-42" autocomplete="off">
                                </div>
                            </div>

                            <div class="col-12 mt-1">
                                <div class="form-hint small" id="tk-keygen-mode-hint"></div>
                            </div>
                        </div>
                    </div>

                    <div class="card border mb-4">
                        <div class="card-body">
                            <div class="d-flex align-items-center justify-content-between">
                                <div class="d-flex align-items-center gap-3">
                                    <div class="avatar bg-white border text-secondary rounded">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3" /><path d="M12 11m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M12 12l0 2.5" /></svg>
                                    </div>
                                    <div>
                                        <div class="fw-bold text-dark">Access Policy</div>
                                    </div>
                                </div>
                                <label class="form-check form-switch m-0" for="tk-keygen-policy-enabled">
                                    <input id="tk-keygen-policy-enabled" class="form-check-input tk-switch-lg" type="checkbox">
                                </label>
                            </div>

                            <div id="tk-keygen-policy" class="mt-4 border-top pt-4 d-none">
                                <div class="row g-4">
                                    <div class="col-12">
                                        <label class="form-check form-switch">
                                            <input id="tk-keygen-allowHistorical" class="form-check-input" type="checkbox" checked>
                                            <span class="form-check-label fw-medium">Allow Historical Operations</span>
                                            <span class="d-block text-muted small mt-1">
                                                Keep previous generations available for verify/decrypt after rotation.
                                            </span>
                                        </label>
                                    </div>

                                    <div class="col-md-6">
                                        <label class="form-label small text-muted text-uppercase ls-1">Block New Operations After</label>
                                        <div class="input-clearable" id="tk-keygen-apply-wrapper">
                                            <input id="tk-keygen-apply-value" type="datetime-local" class="form-control">
                                            <button type="button" class="input-clearable-btn" aria-label="Clear">&times;</button>
                                        </div>
                                        <div class="form-hint">Leave empty for no expiry limit.</div>
                                    </div>

                                    <div class="col-md-6">
                                        <label class="form-label small text-muted text-uppercase ls-1">Block All Operations After</label>
                                        <div class="input-clearable" id="tk-keygen-process-wrapper">
                                            <input id="tk-keygen-process-value" type="datetime-local" class="form-control">
                                            <button type="button" class="input-clearable-btn" aria-label="Clear">&times;</button>
                                        </div>
                                        <div class="form-hint">Leave empty for no hard stop.</div>
                                    </div>

                                    <div class="col-12">
                                        <div class="alert alert-danger bg-danger-lt border-0 rounded-3 mb-0">
                                            <div class="d-flex">
                                                <div class="me-3">
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 9v2m0 4v.01" /><path d="M5 19h14a2 2 0 0 0 1.84 -2.75l-7.1 -12.25a2 2 0 0 0 -3.48 0l-7.1 12.25a2 2 0 0 0 1.84 2.75z" /></svg>
                                                </div>
                                                <div>
                                                    <div class="fw-bold">Critical Impact</div>
                                                    <div class="small opacity-75">
                                                        Strict expiry limits or disabled historical operations can permanently lock encrypted data.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </form>
            </div>
        </div>
    </div>
</div>

<div class="tk-notifications" id="tk-keygen-notifications"></div>
